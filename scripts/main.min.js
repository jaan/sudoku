/*! hammer - v0.0.1 - 2014-09-04
* Copyright (c) 2014 ; */ 
"use strict";!function(a){var b={levels:{easy:[5,3,0,0,7,0,0,0,0,6,0,0,1,9,5,0,0,0,0,9,8,0,0,0,0,6,0,8,0,0,0,6,0,0,0,3,4,0,0,8,0,3,0,0,1,7,0,0,0,2,0,0,0,6,0,6,0,0,0,0,2,8,0,0,0,0,4,1,9,0,0,5,0,0,0,0,8,0,0,7,9],medium:[0,4,0,7,3,0,8,0,0,0,0,7,0,9,0,3,0,5,0,3,6,4,8,0,0,0,0,2,1,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,1,2,0,0,0,0,7,4,2,8,0,6,0,4,0,5,0,7,0,0,0,0,8,0,1,3,0,9,0],tough:[3,0,0,0,4,0,6,0,0,0,0,2,3,9,0,1,0,0,6,5,0,0,1,0,0,7,0,0,0,6,0,0,0,7,4,0,0,0,0,0,6,0,0,0,0,0,2,5,0,0,0,9,0,0,0,4,0,0,3,0,0,1,5,0,0,7,0,5,1,3,0,0,0,0,3,0,2,0,0,0,7]},smallSquare:3,largeSquare:9},c={boardArray:[],level:"easy",solvedBoardArray:[],defaultCellData:"&#160;",generateBoardTemplate:function(c){var d,e,f,g="",h=this.getBoardData(c);for(this.level=c,this.solvedBoardArray=this.getSolvedData(h),this.boardArray=a.extend(!0,[],h),g="<div id='boardheader'><div id='timer'><span id='minutes'></span> : <span id='seconds'></span></div>"+this.getLevelsDOM()+"</div>",g+="<div id='board'>",d=0;81>d;d++){var i=h[d];f="",0!==i?(e=i,f="defaults "):(e=this.defaultCellData,f="fillers "),f+=(Math.floor(d%b.largeSquare/b.smallSquare)+Math.floor(Math.floor(d/b.largeSquare)/b.smallSquare)%2)%2?"":"gray",g+="<div data-attr='"+d+"' class='board-"+d+" "+f+"'>"+e+"</div>"}g+="</div>",g+="<div id='numberSelector'><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span></div>",g+="<div id='settings'><span id='clear' class='btn'>Clear Board</span></div>",a("#boardWrapper").html(g)},getLevelsDOM:function(){var c="<div id='levels'>",d=this;return a.each(b.levels,function(a){var b=a===d.level?" selected":"";c+="<span class='"+a+b+"' data-level='"+a+"'>"+a+"</span>"}),c+="</div>"},getBoardData:function(a){return b.levels[a]},startTimer:function(){var b=new Date;return console.log("Starting Timer"),function(){function c(){var a=new Date-b,c=("0"+Math.floor(a/60/1e3)).slice(-2),f=("0"+Math.floor(a/1e3%60)).slice(-2);d.text(c),e.text(f)}var d=a("#minutes"),e=a("#seconds");setInterval(c,1e3)}},bindCellEvents:function(){var b=this;a("#board div.fillers").bind("click",function(){b.clearCellSelection(),a(this).addClass("selected")}),a("#clear").bind("click",function(){b.resetState(!0),b.init(b.level)}),a("#levels span").bind("click",function(){var c=a(this);c.addClass("selected").siblings().removeClass("selected"),b.resetState(),b.level=c.attr("data-level"),b.init(b.level)})},updateCell:function(){var b=this;a("#numberSelector span").bind("click",function(){var c=a("#board div.fillers.selected"),d=a.trim(a(this).text());d=isNaN(d)?0:d,c.text(d),b.boardArray[c.attr("data-attr")]=parseInt(d,10),b.saveState(b.boardArray),b.sudokuSolvedStatus()&&confirm("Sudoku solved!! Congrats. Go to next level.")&&b.resetState()})},clearCellSelection:function(){a("#board div.fillers").each(function(){a(this).removeClass("selected")})},saveState:function(a){var b=this;try{"undefined"!=typeof Storage&&"undefined"!=typeof localStorage&&(localStorage.sudokuArray=JSON.stringify(a),localStorage.sudokuLevel=b.level)}catch(c){}},loadState:function(){var c=this;try{if("undefined"!=typeof Storage&&"undefined"!=typeof localStorage&&"undefined"!=typeof localStorage.sudokuArray){var d=JSON.parse(localStorage.sudokuArray),e=localStorage.sudokuLevel,f=b.largeSquare;if("undefined"!=typeof d&&d instanceof Array&&d.length==f*f)return this.generateBoardTemplate(e),a("#board div").each(function(b){var e=a(this),f=d[b];e.hasClass("defaults")||0===f||(e.text(f),c.boardArray[b]=f)}),void(c.level=e)}}catch(g){}this.generateBoardTemplate(this.level)},resetState:function(){try{localStorage.clear()}catch(a){}},sudokuSolvedStatus:function(){return JSON.stringify(this.solvedBoardArray)===JSON.stringify(this.boardArray)},getSolvedData:function(b){var c=a.extend(!0,[],b),d=function f(a,b,c,d,e){for(b=80;a[b];b--||A);for(d=10;e=a[b]=--d;e&&f(a))for(c in a)e*=c==b||a[c]^d||b%9^c%9&&b/9^c/9&&b/27^c/27|b%9/3^c%9/3};try{d(c)}catch(e){}return c},init:function(){this.loadState(),this.startTimer()(),this.bindCellEvents(),this.updateCell()}};c.init()}(jQuery);