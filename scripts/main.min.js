/*! hammer - v0.0.1 - 2014-09-03
* Copyright (c) 2014 ; */ 
"use strict";!function(a){var b={easy:[0,4,0,7,3,0,8,0,0,0,0,7,0,9,0,3,0,5,0,3,6,4,8,0,0,0,0,2,1,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,1,2,0,0,0,0,7,4,2,8,0,6,0,4,0,5,0,7,0,0,0,0,8,0,1,3,0,9,0],smallSquare:3,largeSquare:9},c={boardArray:[],level:"easy",generateBoardTemplate:function(c){var d,e,f,g="",h=this.getBoardData(c);for(this.level=c,this.boardArray=a.extend(!0,[],h),g="<div id='board'>",d=0;81>d;d++){var i=h[d];f="",0!==i?(e=i,f="defaults "):(e=".",f="fillers "),f+=(Math.floor(d%b.largeSquare/b.smallSquare)+Math.floor(Math.floor(d/b.largeSquare)/b.smallSquare)%2)%2?"":"gray",g+="<div data-attr='"+d+"' class='board-"+d+" "+f+"'>"+e+"</div>"}g+="</div>",g+="<div id='numberSelector'><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span></div>",g+="<div id='timer'>Timer  <span id='minutes'></span> : <span id='seconds'></span></div>",g+="<div id='settings'>Timer  <span id='clear'>Clear Board</span> | <span id='nextBoard'>Next Board</span></div>",a("#boardWrapper").html(g)},getBoardData:function(a){return b[a]},startTimer:function(){var b=new Date;return console.log("Starting Timer"),function(c){function d(){var a=new Date-b,c=("0"+Math.floor(a/60/1e3)).slice(-2),d=("0"+Math.floor(a/1e3%60)).slice(-2);e.text(c),f.text(d)}if(c)return void(b=new Date);var e=a("#minutes"),f=a("#seconds");setInterval(d,1e3)}},bindCellEvents:function(){var b=this;a("#board div.fillers").bind("click",function(){b.clearCellSelection(),a(this).addClass("selected")}),a("#clear").bind("click",function(){b.resetState(!0),b.init(b.level)})},updateCell:function(){var b=this;a("#numberSelector span").bind("click",function(){var c=a("#board div.fillers.selected"),d=a.trim(a(this).text());d=isNaN(d)?0:d,c.text(d),b.boardArray[c.attr("data-attr")]=parseInt(d,10),b.saveState(b.boardArray)})},clearCellSelection:function(){a("#board div.fillers").each(function(){a(this).removeClass("selected")})},saveState:function(a){try{"undefined"!=typeof Storage&&"undefined"!=typeof localStorage&&(localStorage.sudokuArray=JSON.stringify(a))}catch(b){}},loadState:function(){var c=this;try{if("undefined"!=typeof Storage&&"undefined"!=typeof localStorage&&"undefined"!=typeof localStorage.sudokuArray){var d=JSON.parse(localStorage.sudokuArray),e=b.largeSquare;"undefined"!=typeof d&&d instanceof Array&&d.length==e*e&&a("#board div").each(function(b){var e=a(this),f=d[b];e.hasClass("defaults")||0===f||(e.text(f),c.boardArray[b]=f)})}}catch(f){}},resetState:function(){this.startTimer()(!0);try{localStorage.clear()}catch(a){}},init:function(a){this.generateBoardTemplate(a),this.startTimer()(),this.bindCellEvents(),this.updateCell(),this.loadState()}};c.init("easy"),window.sudoku=c}(jQuery);